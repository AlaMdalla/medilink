{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { Status } from '../models/rendez-vous';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../Services/rendez-vous.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/material/snack-bar\";\nimport * as i5 from \"@angular/common\";\nfunction RendezVousFormComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1, \" Date is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RendezVousFormComponent_option_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const status_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", status_r3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(status_r3);\n  }\n}\nfunction RendezVousFormComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1, \" Status is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class RendezVousFormComponent {\n  constructor(fb, rendezVousService, route, router, snackBar) {\n    this.fb = fb;\n    this.rendezVousService = rendezVousService;\n    this.route = route;\n    this.router = router;\n    this.snackBar = snackBar;\n    this.statusOptions = Object.values(Status);\n    this.isEditMode = false;\n    this.form = this.fb.group({\n      date: ['', Validators.required],\n      status: [Status.PENDING, Validators.required]\n    });\n  }\n  ngOnInit() {\n    this.route.paramMap.subscribe(params => {\n      const id = params.get('id');\n      if (id) {\n        this.isEditMode = true;\n        this.rendezVousId = +id;\n        this.rendezVousService.getById(this.rendezVousId).subscribe({\n          next: rendezVous => {\n            const date = new Date(rendezVous.date).toISOString().slice(0, 16);\n            this.form.patchValue({\n              date,\n              status: rendezVous.status\n            });\n          },\n          error: () => this.snackBar.open('Error loading rendez-vous', 'Close', {\n            duration: 3000\n          })\n        });\n      } else {\n        const now = new Date();\n        const formattedNow = now.toISOString().slice(0, 16);\n        this.form.patchValue({\n          date: formattedNow\n        });\n      }\n    });\n  }\n  save() {\n    if (this.form.valid) {\n      const rendezVous = {\n        ...this.form.value,\n        date: new Date(this.form.value.date).toISOString(),\n        id: this.rendezVousId\n      };\n      const operation = this.isEditMode && this.rendezVousId ? this.rendezVousService.update(this.rendezVousId, rendezVous) : this.rendezVousService.create(rendezVous);\n      operation.subscribe({\n        next: () => {\n          const message = this.isEditMode ? 'Rendez-Vous updated' : 'Rendez-Vous created';\n          this.snackBar.open(message, 'Close', {\n            duration: 2000\n          });\n          this.router.navigate(['/rendezvous']);\n        },\n        error: () => {\n          const errorMessage = this.isEditMode ? 'Error updating rendez-vous' : 'Error creating rendez-vous';\n          this.snackBar.open(errorMessage, 'Close', {\n            duration: 3000\n          });\n        }\n      });\n    }\n  }\n  cancel() {\n    this.router.navigate(['/rendezvous']);\n  }\n  static {\n    this.ɵfac = function RendezVousFormComponent_Factory(t) {\n      return new (t || RendezVousFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.RendezVousService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.MatSnackBar));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: RendezVousFormComponent,\n      selectors: [[\"app-rendez-vous-form\"]],\n      decls: 22,\n      vars: 7,\n      consts: [[1, \"rendezvous-container\"], [1, \"form-title\"], [1, \"rendezvous-form\", 3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"date\", 1, \"form-label\"], [\"id\", \"date\", \"type\", \"datetime-local\", \"formControlName\", \"date\", \"required\", \"\", 1, \"form-control\"], [\"class\", \"error-message\", 4, \"ngIf\"], [\"for\", \"status\", 1, \"form-label\"], [\"id\", \"status\", \"formControlName\", \"status\", \"required\", \"\", 1, \"form-control\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"form-actions\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"routerLink\", \"/rendvous\", 1, \"btn\", \"btn-secondary\"], [1, \"error-message\"], [3, \"value\"]],\n      template: function RendezVousFormComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n          i0.ɵɵtext(2);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"form\", 2);\n          i0.ɵɵlistener(\"ngSubmit\", function RendezVousFormComponent_Template_form_ngSubmit_3_listener() {\n            return ctx.save();\n          });\n          i0.ɵɵelementStart(4, \"div\", 3)(5, \"label\", 4);\n          i0.ɵɵtext(6, \"Date\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(7, \"input\", 5);\n          i0.ɵɵtemplate(8, RendezVousFormComponent_div_8_Template, 2, 0, \"div\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"div\", 3)(10, \"label\", 7);\n          i0.ɵɵtext(11, \"Status\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"select\", 8);\n          i0.ɵɵtemplate(13, RendezVousFormComponent_option_13_Template, 2, 2, \"option\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(14, RendezVousFormComponent_div_14_Template, 2, 0, \"div\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"div\", 10)(16, \"button\", 11);\n          i0.ɵɵtext(17);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"button\", 12);\n          i0.ɵɵlistener(\"click\", function RendezVousFormComponent_Template_button_click_18_listener() {\n            return ctx.cancel();\n          });\n          i0.ɵɵtext(19, \"Cancel\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(20, \"a\", 13);\n          i0.ɵɵtext(21, \"Back to RendezVous\");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          let tmp_2_0;\n          let tmp_4_0;\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\"\", ctx.isEditMode ? \"Edit\" : \"Add\", \" Rendez-Vous\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"formGroup\", ctx.form);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.form.get(\"date\")) == null ? null : tmp_2_0.hasError(\"required\")) && ((tmp_2_0 = ctx.form.get(\"date\")) == null ? null : tmp_2_0.touched));\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngForOf\", ctx.statusOptions);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx.form.get(\"status\")) == null ? null : tmp_4_0.hasError(\"required\")) && ((tmp_4_0 = ctx.form.get(\"status\")) == null ? null : tmp_4_0.touched));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", ctx.form.invalid);\n          i0.ɵɵadvance(1);\n          i0.ɵɵtextInterpolate1(\" \", ctx.isEditMode ? \"Update\" : \"Create\", \" \");\n        }\n      },\n      dependencies: [i5.NgForOf, i5.NgIf, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.FormGroupDirective, i1.FormControlName, i3.RouterLink],\n      styles: [\".rendezvous-container[_ngcontent-%COMP%] {\\n    max-width: 800px; \\n\\n    margin: 2rem auto;\\n    padding: 2rem;\\n    background: #fff;\\n    border-radius: 8px;\\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\\n  }\\n  \\n  .form-title[_ngcontent-%COMP%] {\\n    color: #2c3e50;\\n    text-align: center;\\n    margin-bottom: 1.5rem;\\n    font-weight: 600;\\n  }\\n  \\n  .rendezvous-form[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 1.5rem;\\n  }\\n  \\n  .form-group[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 0.5rem;\\n  }\\n  \\n  .form-label[_ngcontent-%COMP%] {\\n    font-weight: 500;\\n    color: #4a5568;\\n    font-size: 0.9rem;\\n  }\\n  \\n  .form-control[_ngcontent-%COMP%] {\\n    padding: 0.75rem;\\n    border: 1px solid #e2e8f0;\\n    border-radius: 4px;\\n    font-size: 1rem;\\n    transition: border-color 0.2s;\\n  }\\n  \\n  .form-control[_ngcontent-%COMP%]:focus {\\n    outline: none;\\n    border-color: #4299e1;\\n    box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.1);\\n  }\\n  \\n  .error-message[_ngcontent-%COMP%] {\\n    padding: 0.75rem;\\n    background-color: #fff5f5;\\n    color: #e53e3e;\\n    border-radius: 4px;\\n    display: flex;\\n    align-items: center;\\n    gap: 0.5rem;\\n    font-size: 0.9rem;\\n  }\\n  \\n  .form-actions[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: flex-end;\\n    gap: 1rem;\\n    margin-top: 1rem;\\n  }\\n  \\n  .btn[_ngcontent-%COMP%] {\\n    padding: 0.75rem 1.5rem;\\n    border: none;\\n    border-radius: 4px;\\n    font-weight: 500;\\n    cursor: pointer;\\n    transition: all 0.2s;\\n  }\\n  \\n  .btn-primary[_ngcontent-%COMP%] {\\n    background-color: #4299e1;\\n    color: white;\\n  }\\n  \\n  .btn-primary[_ngcontent-%COMP%]:hover {\\n    background-color: #3182ce;\\n  }\\n  \\n  .btn-secondary[_ngcontent-%COMP%] {\\n    background-color: #e2e8f0;\\n    color: #4a5568;\\n  }\\n  \\n  .btn-secondary[_ngcontent-%COMP%]:hover {\\n    background-color: #cbd5e0;\\n  }\\n  \\n  .rendezvous-table[_ngcontent-%COMP%] {\\n    width: 100%;\\n    border-collapse: collapse;\\n    margin-top: 1.5rem;\\n  }\\n  \\n  .rendezvous-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rendezvous-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n    padding: 0.75rem;\\n    border: 1px solid #e2e8f0;\\n    text-align: left;\\n  }\\n  \\n  .rendezvous-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n    background-color: #f7fafc;\\n    color: #2c3e50;\\n    font-weight: 600;\\n  }\\n  \\n  .rendezvous-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] {\\n    padding: 0.5rem 1rem;\\n    margin-right: 0.5rem;\\n  }\\n  \\n  .rendezvous-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:last-child {\\n    margin-right: 0;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcmVuZGV6LXZvdXMtZm9ybS9yZW5kZXotdm91cy1mb3JtLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxnQkFBZ0IsRUFBRSw2QkFBNkI7SUFDL0MsaUJBQWlCO0lBQ2pCLGFBQWE7SUFDYixnQkFBZ0I7SUFDaEIsa0JBQWtCO0lBQ2xCLHlDQUF5QztFQUMzQzs7RUFFQTtJQUNFLGNBQWM7SUFDZCxrQkFBa0I7SUFDbEIscUJBQXFCO0lBQ3JCLGdCQUFnQjtFQUNsQjs7RUFFQTtJQUNFLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsV0FBVztFQUNiOztFQUVBO0lBQ0UsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixXQUFXO0VBQ2I7O0VBRUE7SUFDRSxnQkFBZ0I7SUFDaEIsY0FBYztJQUNkLGlCQUFpQjtFQUNuQjs7RUFFQTtJQUNFLGdCQUFnQjtJQUNoQix5QkFBeUI7SUFDekIsa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZiw2QkFBNkI7RUFDL0I7O0VBRUE7SUFDRSxhQUFhO0lBQ2IscUJBQXFCO0lBQ3JCLDZDQUE2QztFQUMvQzs7RUFFQTtJQUNFLGdCQUFnQjtJQUNoQix5QkFBeUI7SUFDekIsY0FBYztJQUNkLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLFdBQVc7SUFDWCxpQkFBaUI7RUFDbkI7O0VBRUE7SUFDRSxhQUFhO0lBQ2IseUJBQXlCO0lBQ3pCLFNBQVM7SUFDVCxnQkFBZ0I7RUFDbEI7O0VBRUE7SUFDRSx1QkFBdUI7SUFDdkIsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIsZUFBZTtJQUNmLG9CQUFvQjtFQUN0Qjs7RUFFQTtJQUNFLHlCQUF5QjtJQUN6QixZQUFZO0VBQ2Q7O0VBRUE7SUFDRSx5QkFBeUI7RUFDM0I7O0VBRUE7SUFDRSx5QkFBeUI7SUFDekIsY0FBYztFQUNoQjs7RUFFQTtJQUNFLHlCQUF5QjtFQUMzQjs7RUFFQTtJQUNFLFdBQVc7SUFDWCx5QkFBeUI7SUFDekIsa0JBQWtCO0VBQ3BCOztFQUVBOztJQUVFLGdCQUFnQjtJQUNoQix5QkFBeUI7SUFDekIsZ0JBQWdCO0VBQ2xCOztFQUVBO0lBQ0UseUJBQXlCO0lBQ3pCLGNBQWM7SUFDZCxnQkFBZ0I7RUFDbEI7O0VBRUE7SUFDRSxvQkFBb0I7SUFDcEIsb0JBQW9CO0VBQ3RCOztFQUVBO0lBQ0UsZUFBZTtFQUNqQiIsInNvdXJjZXNDb250ZW50IjpbIi5yZW5kZXp2b3VzLWNvbnRhaW5lciB7XG4gICAgbWF4LXdpZHRoOiA4MDBweDsgLyogU2xpZ2h0bHkgd2lkZXIgZm9yIHRhYmxlICovXG4gICAgbWFyZ2luOiAycmVtIGF1dG87XG4gICAgcGFkZGluZzogMnJlbTtcbiAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICBib3gtc2hhZG93OiAwIDJweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgfVxuICBcbiAgLmZvcm0tdGl0bGUge1xuICAgIGNvbG9yOiAjMmMzZTUwO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBtYXJnaW4tYm90dG9tOiAxLjVyZW07XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgfVxuICBcbiAgLnJlbmRlenZvdXMtZm9ybSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGdhcDogMS41cmVtO1xuICB9XG4gIFxuICAuZm9ybS1ncm91cCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGdhcDogMC41cmVtO1xuICB9XG4gIFxuICAuZm9ybS1sYWJlbCB7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICBjb2xvcjogIzRhNTU2ODtcbiAgICBmb250LXNpemU6IDAuOXJlbTtcbiAgfVxuICBcbiAgLmZvcm0tY29udHJvbCB7XG4gICAgcGFkZGluZzogMC43NXJlbTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZTJlOGYwO1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICBmb250LXNpemU6IDFyZW07XG4gICAgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIDAuMnM7XG4gIH1cbiAgXG4gIC5mb3JtLWNvbnRyb2w6Zm9jdXMge1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgYm9yZGVyLWNvbG9yOiAjNDI5OWUxO1xuICAgIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDY2LCAxNTMsIDIyNSwgMC4xKTtcbiAgfVxuICBcbiAgLmVycm9yLW1lc3NhZ2Uge1xuICAgIHBhZGRpbmc6IDAuNzVyZW07XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjVmNTtcbiAgICBjb2xvcjogI2U1M2UzZTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGdhcDogMC41cmVtO1xuICAgIGZvbnQtc2l6ZTogMC45cmVtO1xuICB9XG4gIFxuICAuZm9ybS1hY3Rpb25zIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gICAgZ2FwOiAxcmVtO1xuICAgIG1hcmdpbi10b3A6IDFyZW07XG4gIH1cbiAgXG4gIC5idG4ge1xuICAgIHBhZGRpbmc6IDAuNzVyZW0gMS41cmVtO1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XG4gIH1cbiAgXG4gIC5idG4tcHJpbWFyeSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzQyOTllMTtcbiAgICBjb2xvcjogd2hpdGU7XG4gIH1cbiAgXG4gIC5idG4tcHJpbWFyeTpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzMxODJjZTtcbiAgfVxuICBcbiAgLmJ0bi1zZWNvbmRhcnkge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNlMmU4ZjA7XG4gICAgY29sb3I6ICM0YTU1Njg7XG4gIH1cbiAgXG4gIC5idG4tc2Vjb25kYXJ5OmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2JkNWUwO1xuICB9XG4gIFxuICAucmVuZGV6dm91cy10YWJsZSB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcbiAgICBtYXJnaW4tdG9wOiAxLjVyZW07XG4gIH1cbiAgXG4gIC5yZW5kZXp2b3VzLXRhYmxlIHRoLFxuICAucmVuZGV6dm91cy10YWJsZSB0ZCB7XG4gICAgcGFkZGluZzogMC43NXJlbTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZTJlOGYwO1xuICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gIH1cbiAgXG4gIC5yZW5kZXp2b3VzLXRhYmxlIHRoIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmYWZjO1xuICAgIGNvbG9yOiAjMmMzZTUwO1xuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIH1cbiAgXG4gIC5yZW5kZXp2b3VzLXRhYmxlIHRkIC5idG4ge1xuICAgIHBhZGRpbmc6IDAuNXJlbSAxcmVtO1xuICAgIG1hcmdpbi1yaWdodDogMC41cmVtO1xuICB9XG4gIFxuICAucmVuZGV6dm91cy10YWJsZSB0ZCAuYnRuOmxhc3QtY2hpbGQge1xuICAgIG1hcmdpbi1yaWdodDogMDtcbiAgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["Validators","Status","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","status_r3","ɵɵadvance","ɵɵtextInterpolate","RendezVousFormComponent","constructor","fb","rendezVousService","route","router","snackBar","statusOptions","Object","values","isEditMode","form","group","date","required","status","PENDING","ngOnInit","paramMap","subscribe","params","id","get","rendezVousId","getById","next","rendezVous","Date","toISOString","slice","patchValue","error","open","duration","now","formattedNow","save","valid","value","operation","update","create","message","navigate","errorMessage","cancel","ɵɵdirectiveInject","i1","FormBuilder","i2","RendezVousService","i3","ActivatedRoute","Router","i4","MatSnackBar","selectors","decls","vars","consts","template","RendezVousFormComponent_Template","rf","ctx","ɵɵlistener","RendezVousFormComponent_Template_form_ngSubmit_3_listener","ɵɵelement","ɵɵtemplate","RendezVousFormComponent_div_8_Template","RendezVousFormComponent_option_13_Template","RendezVousFormComponent_div_14_Template","RendezVousFormComponent_Template_button_click_18_listener","ɵɵtextInterpolate1","tmp_2_0","hasError","touched","tmp_4_0","invalid"],"sources":["C:\\Users\\ufl\\Downloads\\sbitar\\front\\medilink-microfront\\src\\app\\rendez-vous-form\\rendez-vous-form.component.ts","C:\\Users\\ufl\\Downloads\\sbitar\\front\\medilink-microfront\\src\\app\\rendez-vous-form\\rendez-vous-form.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { RendezVousService } from '../Services/rendez-vous.service';\nimport { RendezVous, Status } from '../models/rendez-vous';\nimport { MatSnackBar } from '@angular/material/snack-bar';\n\n@Component({\n  selector: 'app-rendez-vous-form',\n  templateUrl: './rendez-vous-form.component.html',\n  styleUrls: ['./rendez-vous-form.component.css'],\n})\nexport class RendezVousFormComponent implements OnInit {\n  form: FormGroup;\n  statusOptions = Object.values(Status);\n  isEditMode = false;\n  rendezVousId?: number;\n\n  constructor(\n    private fb: FormBuilder,\n    private rendezVousService: RendezVousService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private snackBar: MatSnackBar\n  ) {\n    this.form = this.fb.group({\n      date: ['', Validators.required],\n      status: [Status.PENDING, Validators.required],\n    });\n  }\n\n  ngOnInit(): void {\n    this.route.paramMap.subscribe((params) => {\n      const id = params.get('id');\n      if (id) {\n        this.isEditMode = true;\n        this.rendezVousId = +id;\n        this.rendezVousService.getById(this.rendezVousId).subscribe({\n          next: (rendezVous) => {\n            const date = new Date(rendezVous.date).toISOString().slice(0, 16);\n            this.form.patchValue({ date, status: rendezVous.status });\n          },\n          error: () => this.snackBar.open('Error loading rendez-vous', 'Close', { duration: 3000 }),\n        });\n      } else {\n        const now = new Date();\n        const formattedNow = now.toISOString().slice(0, 16);\n        this.form.patchValue({ date: formattedNow });\n      }\n    });\n  }\n\n  save(): void {\n    if (this.form.valid) {\n      const rendezVous: RendezVous = {\n        ...this.form.value,\n        date: new Date(this.form.value.date).toISOString(),\n        id: this.rendezVousId,\n      };\n\n      const operation = this.isEditMode && this.rendezVousId\n        ? this.rendezVousService.update(this.rendezVousId, rendezVous)\n        : this.rendezVousService.create(rendezVous);\n\n      operation.subscribe({\n        next: () => {\n          const message = this.isEditMode ? 'Rendez-Vous updated' : 'Rendez-Vous created';\n          this.snackBar.open(message, 'Close', { duration: 2000 });\n          this.router.navigate(['/rendezvous']);\n        },\n        error: () => {\n          const errorMessage = this.isEditMode ? 'Error updating rendez-vous' : 'Error creating rendez-vous';\n          this.snackBar.open(errorMessage, 'Close', { duration: 3000 });\n        },\n      });\n    }\n  }\n\n  cancel(): void {\n    this.router.navigate(['/rendezvous']);\n  }\n}","<div class=\"rendezvous-container\">\n  <h2 class=\"form-title\">{{ isEditMode ? 'Edit' : 'Add' }} Rendez-Vous</h2>\n  <form class=\"rendezvous-form\" [formGroup]=\"form\" (ngSubmit)=\"save()\">\n    <div class=\"form-group\">\n      <label class=\"form-label\" for=\"date\">Date</label>\n      <input\n        class=\"form-control\"\n        id=\"date\"\n        type=\"datetime-local\"\n        formControlName=\"date\"\n        required\n      />\n      <div class=\"error-message\" *ngIf=\"form.get('date')?.hasError('required') && form.get('date')?.touched\">\n        Date is required\n      </div>\n    </div>\n\n    <div class=\"form-group\">\n      <label class=\"form-label\" for=\"status\">Status</label>\n      <select class=\"form-control\" id=\"status\" formControlName=\"status\" required>\n        <option *ngFor=\"let status of statusOptions\" [value]=\"status\">{{ status }}</option>\n      </select>\n      <div class=\"error-message\" *ngIf=\"form.get('status')?.hasError('required') && form.get('status')?.touched\">\n        Status is required\n      </div>\n    </div>\n\n    <div class=\"form-actions\">\n      <button class=\"btn btn-primary\" type=\"submit\" [disabled]=\"form.invalid\">\n        {{ isEditMode ? 'Update' : 'Create' }}\n      </button>\n      <button class=\"btn btn-secondary\" type=\"button\" (click)=\"cancel()\">Cancel</button>\n    </div>\n    <a routerLink=\"/rendvous\" class=\"btn btn-secondary\">Back to RendezVous</a>\n  </form>\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}