{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { StatutConsultation } from '../models/consultation';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../Services/consultation.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/material/snack-bar\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/form-field\";\nimport * as i8 from \"@angular/material/input\";\nfunction ConsultationFormComponent_mat_error_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\", 16);\n    i0.ɵɵtext(1, \" Date is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ConsultationFormComponent_option_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const status_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", status_r3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(status_r3);\n  }\n}\nfunction ConsultationFormComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtext(1, \" Status is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class ConsultationFormComponent {\n  constructor(fb, consultationService, route, router, snackBar) {\n    this.fb = fb;\n    this.consultationService = consultationService;\n    this.route = route;\n    this.router = router;\n    this.snackBar = snackBar;\n    this.isEditMode = false;\n    this.statutOptions = Object.values(StatutConsultation);\n    this.consultationForm = this.fb.group({\n      dateConsultation: ['', Validators.required],\n      statut: ['', Validators.required],\n      description: ['']\n    });\n  }\n  ngOnInit() {\n    this.route.paramMap.subscribe(params => {\n      const id = params.get('id');\n      if (id) {\n        this.isEditMode = true;\n        this.consultationId = +id;\n        this.consultationService.getConsultationById(this.consultationId).subscribe({\n          next: consultation => this.consultationForm.patchValue(consultation),\n          error: () => this.snackBar.open('Error loading consultation', 'Close', {\n            duration: 3000\n          })\n        });\n      }\n    });\n  }\n  onSubmit() {\n    if (this.consultationForm.valid) {\n      const consultation = this.consultationForm.value;\n      if (this.isEditMode && this.consultationId) {\n        this.consultationService.updateConsultation(this.consultationId, consultation).subscribe({\n          next: () => {\n            this.snackBar.open('Consultation updated', 'Close', {\n              duration: 2000\n            });\n            this.router.navigate(['/consultations']);\n          },\n          error: () => this.snackBar.open('Error updating consultation', 'Close', {\n            duration: 3000\n          })\n        });\n      } else {\n        this.consultationService.createConsultation(consultation).subscribe({\n          next: () => {\n            this.snackBar.open('Consultation created', 'Close', {\n              duration: 2000\n            });\n            this.router.navigate(['/consultations']);\n          },\n          error: () => this.snackBar.open('Error creating consultation', 'Close', {\n            duration: 3000\n          })\n        });\n      }\n    }\n  }\n  onCancel() {\n    this.router.navigate(['/consultations']);\n  }\n  static {\n    this.ɵfac = function ConsultationFormComponent_Factory(t) {\n      return new (t || ConsultationFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ConsultationService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.MatSnackBar));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ConsultationFormComponent,\n      selectors: [[\"app-consultation-form\"]],\n      decls: 29,\n      vars: 7,\n      consts: [[1, \"rendezvous-container\"], [1, \"form-title\"], [1, \"rendezvous-form\", 3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"appearance\", \"fill\", 1, \"form-control\"], [1, \"form-label\"], [\"matInput\", \"\", \"type\", \"date\", \"formControlName\", \"dateConsultation\", \"required\", \"\"], [\"class\", \"error-message\", 4, \"ngIf\"], [\"for\", \"statut\", 1, \"form-label\"], [\"id\", \"statut\", \"formControlName\", \"statut\", \"required\", \"\", 1, \"form-control\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"matInput\", \"\", \"formControlName\", \"description\"], [1, \"form-actions\"], [\"mat-raised-button\", \"\", \"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"mat-raised-button\", \"\", \"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"routerLink\", \"/consultations\", 1, \"btn\", \"btn-secondary\"], [1, \"error-message\"], [3, \"value\"]],\n      template: function ConsultationFormComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n          i0.ɵɵtext(2);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"form\", 2);\n          i0.ɵɵlistener(\"ngSubmit\", function ConsultationFormComponent_Template_form_ngSubmit_3_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(4, \"div\", 3)(5, \"mat-form-field\", 4)(6, \"mat-label\", 5);\n          i0.ɵɵtext(7, \"Date\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(8, \"input\", 6);\n          i0.ɵɵtemplate(9, ConsultationFormComponent_mat_error_9_Template, 2, 0, \"mat-error\", 7);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(10, \"div\", 3)(11, \"label\", 8);\n          i0.ɵɵtext(12, \"Status\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"select\", 9);\n          i0.ɵɵtemplate(14, ConsultationFormComponent_option_14_Template, 2, 2, \"option\", 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(15, ConsultationFormComponent_div_15_Template, 2, 0, \"div\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"div\", 3)(17, \"mat-form-field\", 4)(18, \"mat-label\", 5);\n          i0.ɵɵtext(19, \"Description\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(20, \"textarea\", 11);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(21, \"div\", 12)(22, \"button\", 13);\n          i0.ɵɵtext(23);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"button\", 14);\n          i0.ɵɵlistener(\"click\", function ConsultationFormComponent_Template_button_click_24_listener() {\n            return ctx.onCancel();\n          });\n          i0.ɵɵtext(25, \"Cancel\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(26, \"div\")(27, \"a\", 15);\n          i0.ɵɵtext(28, \"Back to Consultations\");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          let tmp_2_0;\n          let tmp_4_0;\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(ctx.isEditMode ? \"Edit Consultation\" : \"Add Consultation\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"formGroup\", ctx.consultationForm);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.consultationForm.get(\"dateConsultation\")) == null ? null : tmp_2_0.hasError(\"required\")) && ((tmp_2_0 = ctx.consultationForm.get(\"dateConsultation\")) == null ? null : tmp_2_0.touched));\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngForOf\", ctx.statutOptions);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx.consultationForm.get(\"statut\")) == null ? null : tmp_4_0.hasError(\"required\")) && ((tmp_4_0 = ctx.consultationForm.get(\"statut\")) == null ? null : tmp_4_0.touched));\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"disabled\", ctx.consultationForm.invalid);\n          i0.ɵɵadvance(1);\n          i0.ɵɵtextInterpolate1(\" \", ctx.isEditMode ? \"Update\" : \"Create\", \" \");\n        }\n      },\n      dependencies: [i5.NgForOf, i5.NgIf, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.FormGroupDirective, i1.FormControlName, i3.RouterLink, i6.MatButton, i7.MatFormField, i7.MatLabel, i7.MatError, i8.MatInput],\n      styles: [\".rendezvous-container[_ngcontent-%COMP%] {\\n    max-width: 800px;\\n    margin: 2rem auto;\\n    padding: 2rem;\\n    background: #fff;\\n    border-radius: 8px;\\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\\n  }\\n  \\n  .form-title[_ngcontent-%COMP%] {\\n    color: #2c3e50;\\n    text-align: center;\\n    margin-bottom: 1.5rem;\\n    font-weight: 600;\\n  }\\n  \\n  .rendezvous-form[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 1.5rem;\\n  }\\n  \\n  .form-group[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 0.5rem;\\n  }\\n  \\n  .form-label[_ngcontent-%COMP%] {\\n    font-weight: 500;\\n    color: #4a5568;\\n    font-size: 0.9rem;\\n  }\\n  \\n  \\n\\n  .form-control[_ngcontent-%COMP%] {\\n    width: 100%;\\n  }\\n  \\n  .form-control[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%] {\\n    padding-bottom: 0;\\n  }\\n  \\n  .form-control[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%] {\\n    padding: 0.75rem 0.75rem 0 0.75rem;\\n    border: 1px solid #e2e8f0;\\n    border-radius: 4px;\\n    font-size: 1rem;\\n    transition: border-color 0.2s;\\n  }\\n  \\n  .form-control[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%]:focus-within {\\n    border-color: #4299e1;\\n    box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.1);\\n  }\\n  \\n  .form-control[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%] {\\n    padding: 0;\\n  }\\n  \\n  .error-message[_ngcontent-%COMP%] {\\n    padding: 0.75rem;\\n    background-color: #fff5f5;\\n    color: #e53e3e;\\n    border-radius: 4px;\\n    display: flex;\\n    align-items: center;\\n    gap: 0.5rem;\\n    font-size: 0.9rem;\\n  }\\n  \\n  .form-actions[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: flex-end;\\n    gap: 1rem;\\n    margin-top: 1rem;\\n  }\\n  \\n  .btn[_ngcontent-%COMP%] {\\n    padding: 0.75rem 1.5rem;\\n    border: none;\\n    border-radius: 4px;\\n    font-weight: 500;\\n    cursor: pointer;\\n    transition: all 0.2s;\\n    line-height: 1.5;\\n  }\\n  \\n  .btn-primary[_ngcontent-%COMP%] {\\n    background-color: #4299e1;\\n    color: white;\\n  }\\n  \\n  .btn-primary[_ngcontent-%COMP%]:hover {\\n    background-color: #3182ce;\\n  }\\n  \\n  .btn-primary.mat-raised-button[disabled][_ngcontent-%COMP%] {\\n    background-color: #b3d4fc;\\n    color: rgba(255, 255, 255, 0.7);\\n  }\\n  \\n  .btn-secondary[_ngcontent-%COMP%] {\\n    background-color: #e2e8f0;\\n    color: #4a5568;\\n  }\\n  \\n  .btn-secondary[_ngcontent-%COMP%]:hover {\\n    background-color: #cbd5e0;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29uc3VsdGF0aW9uLWZvcm0vY29uc3VsdGF0aW9uLWZvcm0uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGdCQUFnQjtJQUNoQixpQkFBaUI7SUFDakIsYUFBYTtJQUNiLGdCQUFnQjtJQUNoQixrQkFBa0I7SUFDbEIseUNBQXlDO0VBQzNDOztFQUVBO0lBQ0UsY0FBYztJQUNkLGtCQUFrQjtJQUNsQixxQkFBcUI7SUFDckIsZ0JBQWdCO0VBQ2xCOztFQUVBO0lBQ0UsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixXQUFXO0VBQ2I7O0VBRUE7SUFDRSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLFdBQVc7RUFDYjs7RUFFQTtJQUNFLGdCQUFnQjtJQUNoQixjQUFjO0lBQ2QsaUJBQWlCO0VBQ25COztFQUVBLDRDQUE0QztFQUM1QztJQUNFLFdBQVc7RUFDYjs7RUFFQTtJQUNFLGlCQUFpQjtFQUNuQjs7RUFFQTtJQUNFLGtDQUFrQztJQUNsQyx5QkFBeUI7SUFDekIsa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZiw2QkFBNkI7RUFDL0I7O0VBRUE7SUFDRSxxQkFBcUI7SUFDckIsNkNBQTZDO0VBQy9DOztFQUVBO0lBQ0UsVUFBVTtFQUNaOztFQUVBO0lBQ0UsZ0JBQWdCO0lBQ2hCLHlCQUF5QjtJQUN6QixjQUFjO0lBQ2Qsa0JBQWtCO0lBQ2xCLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsV0FBVztJQUNYLGlCQUFpQjtFQUNuQjs7RUFFQTtJQUNFLGFBQWE7SUFDYix5QkFBeUI7SUFDekIsU0FBUztJQUNULGdCQUFnQjtFQUNsQjs7RUFFQTtJQUNFLHVCQUF1QjtJQUN2QixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGdCQUFnQjtJQUNoQixlQUFlO0lBQ2Ysb0JBQW9CO0lBQ3BCLGdCQUFnQjtFQUNsQjs7RUFFQTtJQUNFLHlCQUF5QjtJQUN6QixZQUFZO0VBQ2Q7O0VBRUE7SUFDRSx5QkFBeUI7RUFDM0I7O0VBRUE7SUFDRSx5QkFBeUI7SUFDekIsK0JBQStCO0VBQ2pDOztFQUVBO0lBQ0UseUJBQXlCO0lBQ3pCLGNBQWM7RUFDaEI7O0VBRUE7SUFDRSx5QkFBeUI7RUFDM0IiLCJzb3VyY2VzQ29udGVudCI6WyIucmVuZGV6dm91cy1jb250YWluZXIge1xuICAgIG1heC13aWR0aDogODAwcHg7XG4gICAgbWFyZ2luOiAycmVtIGF1dG87XG4gICAgcGFkZGluZzogMnJlbTtcbiAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICBib3gtc2hhZG93OiAwIDJweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgfVxuICBcbiAgLmZvcm0tdGl0bGUge1xuICAgIGNvbG9yOiAjMmMzZTUwO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBtYXJnaW4tYm90dG9tOiAxLjVyZW07XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgfVxuICBcbiAgLnJlbmRlenZvdXMtZm9ybSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGdhcDogMS41cmVtO1xuICB9XG4gIFxuICAuZm9ybS1ncm91cCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGdhcDogMC41cmVtO1xuICB9XG4gIFxuICAuZm9ybS1sYWJlbCB7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICBjb2xvcjogIzRhNTU2ODtcbiAgICBmb250LXNpemU6IDAuOXJlbTtcbiAgfVxuICBcbiAgLyogU3R5bGluZyBmb3IgQW5ndWxhciBNYXRlcmlhbCBjb21wb25lbnRzICovXG4gIC5mb3JtLWNvbnRyb2wge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG4gIFxuICAuZm9ybS1jb250cm9sIC5tYXQtZm9ybS1maWVsZC13cmFwcGVyIHtcbiAgICBwYWRkaW5nLWJvdHRvbTogMDtcbiAgfVxuICBcbiAgLmZvcm0tY29udHJvbCAubWF0LWZvcm0tZmllbGQtZmxleCB7XG4gICAgcGFkZGluZzogMC43NXJlbSAwLjc1cmVtIDAgMC43NXJlbTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZTJlOGYwO1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICBmb250LXNpemU6IDFyZW07XG4gICAgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIDAuMnM7XG4gIH1cbiAgXG4gIC5mb3JtLWNvbnRyb2wgLm1hdC1mb3JtLWZpZWxkLWZsZXg6Zm9jdXMtd2l0aGluIHtcbiAgICBib3JkZXItY29sb3I6ICM0Mjk5ZTE7XG4gICAgYm94LXNoYWRvdzogMCAwIDAgM3B4IHJnYmEoNjYsIDE1MywgMjI1LCAwLjEpO1xuICB9XG4gIFxuICAuZm9ybS1jb250cm9sIC5tYXQtZm9ybS1maWVsZC1pbmZpeCB7XG4gICAgcGFkZGluZzogMDtcbiAgfVxuICBcbiAgLmVycm9yLW1lc3NhZ2Uge1xuICAgIHBhZGRpbmc6IDAuNzVyZW07XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjVmNTtcbiAgICBjb2xvcjogI2U1M2UzZTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGdhcDogMC41cmVtO1xuICAgIGZvbnQtc2l6ZTogMC45cmVtO1xuICB9XG4gIFxuICAuZm9ybS1hY3Rpb25zIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gICAgZ2FwOiAxcmVtO1xuICAgIG1hcmdpbi10b3A6IDFyZW07XG4gIH1cbiAgXG4gIC5idG4ge1xuICAgIHBhZGRpbmc6IDAuNzVyZW0gMS41cmVtO1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XG4gICAgbGluZS1oZWlnaHQ6IDEuNTtcbiAgfVxuICBcbiAgLmJ0bi1wcmltYXJ5IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDI5OWUxO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgfVxuICBcbiAgLmJ0bi1wcmltYXJ5OmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzE4MmNlO1xuICB9XG4gIFxuICAuYnRuLXByaW1hcnkubWF0LXJhaXNlZC1idXR0b25bZGlzYWJsZWRdIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYjNkNGZjO1xuICAgIGNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNyk7XG4gIH1cbiAgXG4gIC5idG4tc2Vjb25kYXJ5IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTJlOGYwO1xuICAgIGNvbG9yOiAjNGE1NTY4O1xuICB9XG4gIFxuICAuYnRuLXNlY29uZGFyeTpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2NiZDVlMDtcbiAgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["Validators","StatutConsultation","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","status_r3","ɵɵadvance","ɵɵtextInterpolate","ConsultationFormComponent","constructor","fb","consultationService","route","router","snackBar","isEditMode","statutOptions","Object","values","consultationForm","group","dateConsultation","required","statut","description","ngOnInit","paramMap","subscribe","params","id","get","consultationId","getConsultationById","next","consultation","patchValue","error","open","duration","onSubmit","valid","value","updateConsultation","navigate","createConsultation","onCancel","ɵɵdirectiveInject","i1","FormBuilder","i2","ConsultationService","i3","ActivatedRoute","Router","i4","MatSnackBar","selectors","decls","vars","consts","template","ConsultationFormComponent_Template","rf","ctx","ɵɵlistener","ConsultationFormComponent_Template_form_ngSubmit_3_listener","ɵɵelement","ɵɵtemplate","ConsultationFormComponent_mat_error_9_Template","ConsultationFormComponent_option_14_Template","ConsultationFormComponent_div_15_Template","ConsultationFormComponent_Template_button_click_24_listener","tmp_2_0","hasError","touched","tmp_4_0","invalid","ɵɵtextInterpolate1"],"sources":["C:\\Users\\ufl\\Downloads\\sbitar\\front\\medilink-microfront\\src\\app\\consultation-form\\consultation-form.component.ts","C:\\Users\\ufl\\Downloads\\sbitar\\front\\medilink-microfront\\src\\app\\consultation-form\\consultation-form.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ConsultationService } from '../Services/consultation.service';\nimport { Consultation, StatutConsultation } from '../models/consultation';\nimport { MatSnackBar } from '@angular/material/snack-bar';\n\n@Component({\n  selector: 'app-consultation-form',\n  templateUrl: './consultation-form.component.html',\n  styleUrls: ['./consultation-form.component.css']\n})\nexport class ConsultationFormComponent implements OnInit {\n  consultationForm: FormGroup;\n  isEditMode = false;\n  consultationId?: number;\n  statutOptions = Object.values(StatutConsultation);\n\n  constructor(\n    private fb: FormBuilder,\n    private consultationService: ConsultationService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private snackBar: MatSnackBar\n  ) {\n    this.consultationForm = this.fb.group({\n      dateConsultation: ['', Validators.required],\n      statut: ['', Validators.required],\n      description: ['']\n    });\n  }\n\n  ngOnInit(): void {\n    this.route.paramMap.subscribe(params => {\n      const id = params.get('id');\n      if (id) {\n        this.isEditMode = true;\n        this.consultationId = +id;\n        this.consultationService.getConsultationById(this.consultationId).subscribe({\n          next: (consultation) => this.consultationForm.patchValue(consultation),\n          error: () => this.snackBar.open('Error loading consultation', 'Close', { duration: 3000 })\n        });\n      }\n    });\n  }\n\n  onSubmit(): void {\n    if (this.consultationForm.valid) {\n      const consultation: Consultation = this.consultationForm.value;\n      if (this.isEditMode && this.consultationId) {\n        this.consultationService.updateConsultation(this.consultationId, consultation).subscribe({\n          next: () => {\n            this.snackBar.open('Consultation updated', 'Close', { duration: 2000 });\n            this.router.navigate(['/consultations']);\n          },\n          error: () => this.snackBar.open('Error updating consultation', 'Close', { duration: 3000 })\n        });\n      } else {\n        this.consultationService.createConsultation(consultation).subscribe({\n          next: () => {\n            this.snackBar.open('Consultation created', 'Close', { duration: 2000 });\n            this.router.navigate(['/consultations']);\n          },\n          error: () => this.snackBar.open('Error creating consultation', 'Close', { duration: 3000 })\n        });\n      }\n    }\n  }\n  onCancel(): void {\n    this.router.navigate(['/consultations']);\n  }\n}","<div class=\"rendezvous-container\">\n  <h2 class=\"form-title\">{{ isEditMode ? 'Edit Consultation' : 'Add Consultation' }}</h2>\n  <form [formGroup]=\"consultationForm\" (ngSubmit)=\"onSubmit()\" class=\"rendezvous-form\">\n    <div class=\"form-group\">\n      <mat-form-field appearance=\"fill\" class=\"form-control\">\n        <mat-label class=\"form-label\">Date</mat-label>\n        <input matInput type=\"date\" formControlName=\"dateConsultation\" required>\n        <mat-error *ngIf=\"consultationForm.get('dateConsultation')?.hasError('required') && consultationForm.get('dateConsultation')?.touched\" class=\"error-message\">\n          Date is required\n        </mat-error>\n      </mat-form-field>\n    </div>\n\n    <div class=\"form-group\">\n      <label class=\"form-label\" for=\"statut\">Status</label>\n      <select class=\"form-control\" id=\"statut\" formControlName=\"statut\" required>\n        <option *ngFor=\"let status of statutOptions\" [value]=\"status\">{{ status }}</option>\n      </select>\n      <div class=\"error-message\" *ngIf=\"consultationForm.get('statut')?.hasError('required') && consultationForm.get('statut')?.touched\">\n        Status is required\n      </div>\n    </div>\n\n    <div class=\"form-group\">\n      <mat-form-field appearance=\"fill\" class=\"form-control\">\n        <mat-label class=\"form-label\">Description</mat-label>\n        <textarea matInput formControlName=\"description\"></textarea>\n      </mat-form-field>\n    </div>\n\n    <div class=\"form-actions\">\n      <button mat-raised-button class=\"btn btn-primary\" type=\"submit\" [disabled]=\"consultationForm.invalid\">\n        {{ isEditMode ? 'Update' : 'Create' }}\n      </button>\n      <button mat-raised-button class=\"btn btn-secondary\" type=\"button\" (click)=\"onCancel()\">Cancel</button>\n    </div>\n  </form>\n  <div>\n    <a routerLink=\"/consultations\" class=\"btn btn-secondary\">Back to Consultations</a>\n  </div>\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}